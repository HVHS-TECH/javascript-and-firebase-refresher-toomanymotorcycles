<!DOCTYPE html>
<html>

<head>
    <title id="header">Chaos Chat</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <style>
        html {
          font-family: Arial, Helvetica, sans-serif;
          padding: 0px;
        }
        #errorBar {
            background-color: red;
            color: white;
            padding-left: 20px;
            position: sticky;
            top: 0;
            display: flex;
            gap: 20px;
            align-items: center;
            width:100%;
        }
        #accBar {
            position: sticky;
            top: 0;
            padding: 20px;
            background-color: white;
            box-shadow: 0.5px 0px 5px 10px rgba(0, 0, 0, 0.2);
            width:100%;
            margin-top: -10px;
            margin-left: -10px;
        }
        #postUI {
            position: fixed;
            display: flex;
            justify-content: center;
            bottom: 0;
            padding: 20px;
            padding-left: 1%;
            background-color: white;
            box-shadow: -0.5px 0px 5px 10px rgba(0, 0, 0, 0.2);
            width:100%;
            margin-left: -10px;
        }
        .message {
            border: 1px solid black;
            border-radius: 5px;
            margin: 10px;
            padding-left: 10px;
            box-shadow: 2px 2px 5px 1px rgba(0, 0, 0, 0.2);
        }
        #changeinput {
            border: 0px;
            border-radius: 5px;
            width: 96%;
            padding: 5px;
            box-shadow: inset 2px 2px 5px 0.2px rgba(0, 0, 0, 0.2);
            margin-left: -20px;
        }
    </style>
</head>

<script type="module" src="systemAPI.mjs"></script>
<script type="module" src="mainhandler.mjs"></script>
<body>
    <div id="errorBar" style="display:none">
        <div><h1 id="errorSymbol">!</h1></div>
        <div><p><b id="errorText">Test error, nothing to see here.</b></p></div>
    </div>
    
    <div id="content">
    <div id="accBar">
        <img src="/banner.png" width="200" height="100">
        <button id="accButton" onclick="accHandler()" style="align-self:right;">Login</button><p id="loginMsg" style="align-self:left;">Not logged in. Posting as anonymous user.</p>
    </div>
    <br>
    <div id="messages"><i>Loading...</i></div>
    <br>
    <br>
    <br>
    the cake is a lie
    <div id="postUI">
        <input id="changeinput" type="text" placeholder="Type here to chat, hit enter to send">
    </div>
    <!-- <div class="dropdown">
    <p><b>Assignment Instructions</b></p>
        <div class="dropdown-content">
            <h2>JavaScript</h2>
    <ul>
        <li>Connect the JavaScript file - this page will tell you when it is done</li>
        <li>Add a button - Make it change the heading "You pressed the button!" </li>
        <li>Add a text input</li>
        <li>The button puts the text in the heading</li>
        <li>Get rid of the alert - the button updates the heading of this page</li>
    </ul>
    <h4>Firebase basics</h4>

    <ul>
        <li>Create a new Firebase or re-use yours from last year</li>
        <li>Remember how to connect up the 'authorised domains'</li>
        <li>Add a button - Make it save the text to Firebase </li>
        <li>Add another button - Make it read the message from Firebase and write it to the heading of this page</li>
    </ul>
    <h4>Firebase logins</h4>
    <ul>
        <li>Use Google Authentication</li>
        <li>Change what the first button does. Now it saves the text and the user who entered it</li>
        <li>Change what the second button does. Now it displays all the messages and who added them</li>
    </ul>
    <h4>Extension</h4>
    <ul>
        <li>Firebase now stores a list of messages saved by each user</li>
        <li>There is a button that only displays your messages</li>
        <li>You can filter to only display messages from a specific user</li>
    </ul>
    <p>You learned all this last year. You just need to remember how!<br>
        You can Google it, ask a friend, copy from last year's work, even look at <a href="https://sites.google.com/hvhs.school.nz/technology/COMP/12COMP/12-databases/br-firebase-skills">last year's notes</a>, works for you.<br>
        By the end of the week you will have Firebase going.</p>
        </div>-->
    </div>
    <script>document.getElementById("changeinput").addEventListener("keypress", (event) => {if (event.key === "Enter") {event.preventDefault();update(document.getElementById('changeinput').value)}})</script>
</body>

</html>